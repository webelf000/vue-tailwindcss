<template>
  <div class="group-contents w-full">
    <div class="card my-6 h-168 rounded border shadow-md">
      <div class="icon flex items-center pb-4">
        <div class="py-3 px-2 -mt-4 text-white bg-purple-dark rounded shadow ml-4">
          <i class="fas fa-users fa-3x relative"></i>
        </div>
        <div class="ml-4">
          <h1>Groups</h1>
        </div>
      </div>
      <div class="w-full grid grid-columns-12 flex py-2 items-center font-semibold grid-gap-2">
        <div class="col-span-1 text-center">#</div>
        <div class="col-span-3">Name</div>
        <div class="col-span-3">Email</div>
        <div class="col-span-3">Location</div>
        <div class="col-span-2">Actions</div>
      </div>

      <div class="w-full grid grid-columns-12 flex h-16 items-center font-light grid-gap-2 mb-4">
        <div class="col-span-1 text-center">1</div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Beer
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          beer@email.com
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deserunt fugit in? Iusto illo ad ipsum debitis facilis quae molestias repellendus, nisi nesciunt consectetur voluptatem vitae ipsam similique perferendis sunt.
        </div>
        <div class="col-span-2 flex px-3">
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-sign-in-alt cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-edit cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-trash-alt cursor-pointer"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="w-full grid grid-columns-12 flex h-16 items-center font-light grid-gap-2 mb-4">
        <div class="col-span-1 text-center">2</div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Beer
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          beer@email.com
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deserunt fugit in? Iusto illo ad ipsum debitis facilis quae molestias repellendus, nisi nesciunt consectetur voluptatem vitae ipsam similique perferendis sunt.
        </div>
        <div class="col-span-2 flex px-3">
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-sign-in-alt cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-edit cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-trash-alt cursor-pointer"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="w-full grid grid-columns-12 flex h-16 items-center font-light grid-gap-2 mb-4">
        <div class="col-span-1 text-center">3</div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Beer
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          beer@email.com
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deserunt fugit in? Iusto illo ad ipsum debitis facilis quae molestias repellendus, nisi nesciunt consectetur voluptatem vitae ipsam similique perferendis sunt.
        </div>
        <div class="col-span-2 flex px-3">
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-sign-in-alt cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-edit cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-trash-alt cursor-pointer"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="w-full grid grid-columns-12 flex h-16 items-center font-light grid-gap-2 mb-4">
        <div class="col-span-1 text-center">4</div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Beer
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          beer@email.com
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deserunt fugit in? Iusto illo ad ipsum debitis facilis quae molestias repellendus, nisi nesciunt consectetur voluptatem vitae ipsam similique perferendis sunt.
        </div>
        <div class="col-span-2 flex px-3">
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-sign-in-alt cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-edit cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-trash-alt cursor-pointer"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="w-full grid grid-columns-12 flex h-16 items-center font-light grid-gap-2 mb-4">
        <div class="col-span-1 text-center">5</div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Beer
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          beer@email.com
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deserunt fugit in? Iusto illo ad ipsum debitis facilis quae molestias repellendus, nisi nesciunt consectetur voluptatem vitae ipsam similique perferendis sunt.
        </div>
        <div class="col-span-2 flex px-3">
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-sign-in-alt cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-edit cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-trash-alt cursor-pointer"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="w-full grid grid-columns-12 flex h-16 items-center font-light grid-gap-2 mb-4">
        <div class="col-span-1 text-center">6</div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Beer
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          beer@email.com
        </div>
        <div class="col-span-3 break-word overflow-y-scrol overflow-y-auto h-16 flex items-center">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis deserunt fugit in? Iusto illo ad ipsum debitis facilis quae molestias repellendus, nisi nesciunt consectetur voluptatem vitae ipsam similique perferendis sunt.
        </div>
        <div class="col-span-2 flex px-3">
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-sign-in-alt cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-edit cursor-pointer"></i>
            </a>
          </div>
          <div class="px-2">
            <a href="#" class="no-underline text-black">
              <i class="fas fa-trash-alt cursor-pointer"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="w-full flex h-16 justify-between items-center text-sm font-thin px-6 py-2">
        <div class="">Showing 1 of N items</div>
        <div class="flex items-end cursor-pointer">
          <a class="p-2 no-underline text-black hover:text-white hover:bg-purple hover:rounded">First</a>
          <!-- <a class="p-2 no-underline text-black hover:text-white hover:bg-purple hover:rounded">Previous</a> -->

          <a class="p-2 mx-2 px-3 no-underline text-black hover:rounded-full hover:bg-purple hover:font-semibold hover:text-white" 
            href="#" 
            v-for="o in pageNumToShow" 
            :key="o.in"
          >
            {{ o.val }}
          </a>

          <!-- <a class="p-2 mx-2 px-3 no-underline text-black hover:rounded-full hover:bg-purple hover:font-semibold hover:text-white">1</a>
          <a class="p-2 mx-2 px-3 no-underline text-black hover:rounded-full hover:bg-purple hover:font-semibold hover:text-white">2</a>
          <a class="p-2 mx-2 px-3 no-underline text-black hover:rounded-full hover:bg-purple hover:font-semibold hover:text-white">3</a> -->
          <!-- <a class="p-2 no-underline text-black hover:text-white hover:bg-purple hover:rounded">Next</a> -->
          <a class="p-2 no-underline text-black hover:text-white hover:bg-purple hover:rounded">Last</a>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { baseUri } from "../../helpers";

export default {
  data() {
    return {
      groups: {},
      first: 1,
      curPage: 1,
      last: 1,
      next: 2,
      prev: 1,
      nextPageUrl: "",
      lastPageUrl: "",
      firstPageUrl: "",
      prevPageUrl: "",
      totalPages: 1,
      pageNumToShow: [],
      total: 1
    };
  },
  methods: {
    fetchNextPage() {}
  },
  mounted() {
    axios
      .get(`${baseUri}/groups`)
      .then(resp => {
        let data = resp.data.groups;

        this.groups = data.data;
        this.curPage = data.current_page;
        this.last = data.last_page;
        this.prev = this.curPage < 1 ? 1 : this.curPage - 1;

        this.nextPageUrl = data.next_page_url;
        this.lastPageUrl = data.last_page_url;
        this.firstPageUrl = data.first_page_url;
        this.prevPageUrl = data.prev_page_url;
        this.perPage = data.per_page;

        this.total = data.total;
        this.totalPages = Math.ceil(this.total / this.perPage);

        for (let i = 0; i <= 3; i++) {
          if (this.curPage + i <= this.totalPages) {
            this.pageNumToShow.push({ in: i, val: this.curPage + i });
          }

          if (this.curPage == this.totalPages) {
            break;
          }
        }

        console.log(data);
        console.log(this);
      })
      .catch(err => console.log(err.response));
  }
};
</script>
